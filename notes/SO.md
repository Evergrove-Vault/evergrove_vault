---
tags:
  - todo
aliases:
  - Structured Output
---
Structured output ‚Äî —ç—Ç–æ —Å–ø–æ—Å–æ–± –æ—Ä–≥–∞–Ω–∏–∑–∞—Ü–∏–∏ –æ—Ç–≤–µ—Ç–∞ –º–æ–¥–µ–ª–∏ (–∏–ª–∏ –ª—é–±–æ–π –¥—Ä—É–≥–æ–π –ø—Ä–æ–≥—Ä–∞–º–º—ã), –ø—Ä–∏ –∫–æ—Ç–æ—Ä–æ–º —Ä–µ–∑—É–ª—å—Ç–∞—Ç –ø–æ–¥–∞—ë—Ç—Å—è –≤ **—Å—Ç—Ä—É–∫—Ç—É—Ä–∏—Ä–æ–≤–∞–Ω–Ω–æ–º —Ñ–æ—Ä–º–∞—Ç–µ**, –Ω–∞–ø—Ä–∏–º–µ—Ä JSON, XML –∏–ª–∏ –≤ –≤–∏–¥–µ —Å—Ç—Ä–æ–≥–æ –∑–∞–¥–∞–Ω–Ω–æ–π —Å—Ö–µ–º—ã.

–í–º–µ—Å—Ç–æ —Å–≤–æ–±–æ–¥–Ω–æ–≥–æ —Ç–µ–∫—Å—Ç–∞ (¬´–ø–∏—à–∏ –∫–∞–∫ —Ö–æ—á–µ—à—å¬ª), —Ä–µ–∑—É–ª—å—Ç–∞—Ç –∂—ë—Å—Ç–∫–æ –ø—Ä–∏–≤—è–∑—ã–≤–∞–µ—Ç—Å—è –∫ –ø–æ–ª—è–º, —Ç–∏–ø–∞–º –¥–∞–Ω–Ω—ã—Ö –∏ —Å—Ç—Ä—É–∫—Ç—É—Ä–µ.

---

# –ó–∞—á–µ–º –Ω—É–∂–µ–Ω structured output

1. **–ü—Ä–µ–¥—Å–∫–∞–∑—É–µ–º–æ—Å—Ç—å** ‚Äî –∫–ª–∏–µ–Ω—Ç—Å–∫–∏–π –∫–æ–¥ –∏–ª–∏ —á–µ–ª–æ–≤–µ–∫ –º–æ–∂–µ—Ç –ª–µ–≥–∫–æ —Ä–∞–∑–æ–±—Ä–∞—Ç—å —Ä–µ–∑—É–ª—å—Ç–∞—Ç.
2. **–ò–Ω—Ç–µ–≥—Ä–∞—Ü–∏—è** ‚Äî —É–¥–æ–±–Ω–æ –∏—Å–ø–æ–ª—å–∑–æ–≤–∞—Ç—å –≤ –ø–∞–π–ø–ª–∞–π–Ω–∞—Ö, –≥–¥–µ –º–æ–¥–µ–ª—å ‚Äî —á–∞—Å—Ç—å —Å–∏—Å—Ç–µ–º—ã (–Ω–∞–ø—Ä–∏–º–µ—Ä, —á–∞—Ç-–±–æ—Ç, –∫–æ—Ç–æ—Ä—ã–π –≤–æ–∑–≤—Ä–∞—â–∞–µ—Ç –æ–±—ä–µ–∫—Ç —Å `action` –∏ `parameters`).
3. **–í–∞–ª–∏–¥–∏—Ä—É–µ–º–æ—Å—Ç—å** ‚Äî —Ä–µ–∑—É–ª—å—Ç–∞—Ç –º–æ–∂–Ω–æ –ø—Ä–æ–≤–µ—Ä–∏—Ç—å –ø–æ —Å—Ö–µ–º–µ.
4. **–ê–≤—Ç–æ–º–∞—Ç–∏–∑–∞—Ü–∏—è** ‚Äî API, –∞–≥–µ–Ω—Ç–æ–≤, UI-–∏–Ω—Ç–µ—Ä—Ñ–µ–π—Å—ã —Ä–∞–±–æ—Ç–∞—é—Ç —Å –º–æ–¥–µ–ª—å—é —á–µ—Ä–µ–∑ —á—ë—Ç–∫–∏–µ —Å—Ç—Ä—É–∫—Ç—É—Ä—ã.

---

# –ö–∞–∫ —Ä–µ–∞–ª–∏–∑—É–µ—Ç—Å—è

–ï—Å—Ç—å –Ω–µ—Å–∫–æ–ª—å–∫–æ —É—Ä–æ–≤–Ω–µ–π:

## 1. **–ß–µ—Ä–µ–∑ –∏–Ω—Å—Ç—Ä—É–∫—Ü–∏–∏ (prompt engineering)**

–°–∞–º—ã–π –ø—Ä–æ—Å—Ç–æ–π —Å–ø–æ—Å–æ–± ‚Äî –ø–æ–ø—Ä–æ—Å–∏—Ç—å –º–æ–¥–µ–ª—å —è–≤–Ω–æ –≤–µ—Ä–Ω—É—Ç—å JSON.  
–ü—Ä–∏–º–µ—Ä:

```text
–¢—ã ‚Äî –ø–∞—Ä—Å–µ—Ä. –û—Ç–≤–µ—Ç—å —Å—Ç—Ä–æ–≥–æ –≤ —Ñ–æ—Ä–º–∞—Ç–µ JSON: {   "title": string,   "tags": [string],   "summary": string }
```

–†–∏—Å–∫ ‚Äî –º–æ–¥–µ–ª—å –º–æ–∂–µ—Ç –æ—à–∏–±–∏—Ç—å—Å—è –∏ –¥–æ–±–∞–≤–∏—Ç—å –ª–∏—à–Ω–∏–π —Ç–µ–∫—Å—Ç.

---

## 2. **–ß–µ—Ä–µ–∑ API —Å –ø–æ–¥–¥–µ—Ä–∂–∫–æ–π structured output**

–°–æ–≤—Ä–µ–º–µ–Ω–Ω—ã–µ API (–Ω–∞–ø—Ä–∏–º–µ—Ä, OpenAI, Anthropic) –ø–æ–∑–≤–æ–ª—è—é—Ç —É–∫–∞–∑–∞—Ç—å **JSON Schema** –∏–ª–∏ Pydantic-–º–æ–¥–µ–ª—å, –∏ —Ç–æ–≥–¥–∞ –º–æ–¥–µ–ª—å –≥–∞—Ä–∞–Ω—Ç–∏—Ä–æ–≤–∞–Ω–Ω–æ –≤–æ–∑–≤—Ä–∞—â–∞–µ—Ç –≤–∞–ª–∏–¥–Ω—ã–π –æ–±—ä–µ–∫—Ç.  
–ü—Ä–∏–º–µ—Ä –Ω–∞ Python (—Å OpenAI SDK):

```python
from openai import OpenAI  
client = OpenAI()  
response = client.chat.completions.create(     
	model="gpt-5",     
	messages=[         
		{"role": "user", "content": "–°–æ—Å—Ç–∞–≤—å –æ–ø–∏—Å–∞–Ω–∏–µ –∑–∞–¥–∞—á–∏ –¥–ª—è —Ç—Ä–µ–∫–µ—Ä–∞ –∑–∞–¥–∞—á"}     
	],     
	response_format={         
		"type": "json_schema",         
		"json_schema": {             
			"name": "task",             
			"schema": {                 
				"type": "object",                 
				"properties": {                     
					"title": {"type": "string"},                     
					"priority": {"type": "string", "enum": ["low", "medium", "high"]},                     
					"due_date": {"type": "string", "format": "date"}                 
				},                 
				"required": ["title", "priority"]             
			}         
		}    
	}
)  

print(response.choices[0].message.parsed)
```

–ó–¥–µ—Å—å –º–æ–¥–µ–ª—å **–æ–±—è–∑–∞–Ω–∞** –≤–µ—Ä–Ω—É—Ç—å JSON, –∫–æ—Ç–æ—Ä—ã–π –ø–æ–¥—Ö–æ–¥–∏—Ç –ø–æ–¥ —Å—Ö–µ–º—É.

# –¢–µ—Ö–Ω–∏–∫–∏ —É–ª—É—á—à–µ–Ω–∏—è –∫–∞—á–µ—Å—Ç–≤–∞ Structured Output

## 1. **–ñ—ë—Å—Ç–∫–∏–µ –∏–Ω—Å—Ç—Ä—É–∫—Ü–∏–∏ –≤ –ø—Ä–æ–º–ø—Ç–µ**

- –Ø–≤–Ω–æ —É–∫–∞–∑—ã–≤–∞—Ç—å —Ñ–æ—Ä–º–∞—Ç (`–û—Ç–≤–µ—Ç—å —Å—Ç—Ä–æ–≥–æ JSON-–æ–±—ä–µ–∫—Ç–æ–º, –±–µ–∑ –ø–æ—è—Å–Ω–µ–Ω–∏–π`).
- –î–æ–±–∞–≤–ª—è—Ç—å –ø—Ä–∏–º–µ—Ä –≤–∞–ª–∏–¥–Ω–æ–≥–æ –æ—Ç–≤–µ—Ç–∞.
- –ü–æ–¥—á—ë—Ä–∫–∏–≤–∞—Ç—å –∑–∞–ø—Ä–µ—Ç –Ω–∞ –ª–∏—à–Ω–∏–π —Ç–µ–∫—Å—Ç (`–ù–µ –¥–æ–±–∞–≤–ª—è–π –∫–æ–º–º–µ–Ω—Ç–∞—Ä–∏–∏, –ø–æ—è—Å–Ω–µ–Ω–∏—è –∏ Markdown`).

---

## 2. **–ò—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏–µ —Å—Ö–µ–º—ã (JSON Schema / Pydantic / TypedDict)**

- –ö–æ–≥–¥–∞ –º–æ–¥–µ–ª—å ¬´–∑–Ω–∞–µ—Ç¬ª, —á—Ç–æ –Ω—É–∂–Ω–æ —É–ª–æ–∂–∏—Ç—å—Å—è –≤ —Å—Ö–µ–º—É, –æ—à–∏–±–æ–∫ –º–µ–Ω—å—à–µ.
- –í OpenAI/Anthropic –º–æ–∂–Ω–æ –ø–µ—Ä–µ–¥–∞–≤–∞—Ç—å JSON Schema ‚Üí –º–æ–¥–µ–ª—å —Å–∞–º–∞ –∞–¥–∞–ø—Ç–∏—Ä—É–µ—Ç –≤—ã—Ö–æ–¥.

---

## 3. **Chain of Thought –≤–Ω—É—Ç—Ä–∏ —Å—Ç—Ä—É–∫—Ç—É—Ä—ã**

- –í–º–µ—Å—Ç–æ —Ç–æ–≥–æ, —á—Ç–æ–±—ã –ø—Ä–æ—Å–∏—Ç—å –º–æ–¥–µ–ª—å —Å—Ä–∞–∑—É –≤—ã–¥–∞—Ç—å JSON, –º–æ–∂–Ω–æ —Ä–∞–∑–±–∏—Ç—å –Ω–∞ —ç—Ç–∞–ø—ã:
    1. –°–Ω–∞—á–∞–ª–∞ –ø–æ–ø—Ä–æ—Å–∏—Ç—å —Å–≥–µ–Ω–µ—Ä–∏—Ä–æ–≤–∞—Ç—å —Ç–µ–∫—Å—Ç –∏–ª–∏ —Ä–∞—Å—Å—É–∂–¥–µ–Ω–∏—è.
    2. –ü–æ—Ç–æ–º _–æ—Ç–¥–µ–ª—å–Ω—ã–º –∑–∞–ø—Ä–æ—Å–æ–º_ –ø—Ä–µ–æ–±—Ä–∞–∑–æ–≤–∞—Ç—å –≤ JSON.  
        –≠—Ç–æ —Å–Ω–∏–∂–∞–µ—Ç –≤–µ—Ä–æ—è—Ç–Ω–æ—Å—Ç—å ¬´–∑–∞—à—É–º–ª—ë–Ω–Ω–æ–≥–æ¬ª –æ—Ç–≤–µ—Ç–∞.
        

---

## 4. **Post-processing (–≤–∞–ª–∏–¥–∞—Ü–∏—è –∏ –ø–æ—á–∏–Ω–∫–∞)**

- –ü—Ä–æ–≤–µ—Ä–∫–∞ —Ä–µ–∑—É–ª—å—Ç–∞—Ç–∞ –Ω–∞ —Å—Ç–æ—Ä–æ–Ω–µ –∫–ª–∏–µ–Ω—Ç–∞: `json.loads()` + –≤–∞–ª–∏–¥–∞—Ü–∏—è —Å—Ö–µ–º–æ–π.
- –ï—Å–ª–∏ –Ω–µ–≤–∞–ª–∏–¥–Ω–æ ‚Üí –∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∞—è –ø–µ—Ä–µ–≥–µ–Ω–µ—Ä–∞—Ü–∏—è (self-healing loop).
- –ï—Å—Ç—å –≥–æ—Ç–æ–≤—ã–µ –±–∏–±–ª–∏–æ—Ç–µ–∫–∏ (–Ω–∞–ø—Ä–∏–º–µ—Ä, `jsonschema`, `pydantic`).

---

## 5. **Few-shot –ø—Ä–∏–º–µ—Ä—ã**

- –î–∞–≤–∞—Ç—å –º–æ–¥–µ–ª–∏ –Ω–µ—Å–∫–æ–ª—å–∫–æ –∫–æ—Ä—Ä–µ–∫—Ç–Ω—ã—Ö –ø—Ä–∏–º–µ—Ä–æ–≤ structured output.
- –û—Å–æ–±–µ–Ω–Ω–æ –ø–æ–ª–µ–∑–Ω–æ, –µ—Å–ª–∏ —Å—Ö–µ–º–∞ –Ω–µ—Ç—Ä–∏–≤–∏–∞–ª—å–Ω–∞—è.

---

## 6. **–°—Ç—Ä–∏–º–∏–Ω–≥ –∏ –∫–æ–Ω—Ç—Ä–æ–ª—å —Ñ–æ—Ä–º–∞—Ç–∞**

- –ï—Å–ª–∏ API –ø–æ–¥–¥–µ—Ä–∂–∏–≤–∞–µ—Ç —Å—Ç—Ä–∏–º–∏–Ω–≥, –º–æ–∂–Ω–æ ¬´–æ—Å—Ç–∞–Ω–∞–≤–ª–∏–≤–∞—Ç—å¬ª –≥–µ–Ω–µ—Ä–∞—Ü–∏—é, –∫–∞–∫ —Ç–æ–ª—å–∫–æ JSON –∑–∞–∫—Ä—ã–ª—Å—è (`}`).
- –≠—Ç–æ –ø–æ–º–æ–≥–∞–µ—Ç –∏–∑–±–µ–∂–∞—Ç—å –¥–æ–±–∞–≤–ª–µ–Ω–∏—è –ø–æ—è—Å–Ω—è—é—â–µ–≥–æ —Ç–µ–∫—Å—Ç–∞ ¬´–ø–æ—Å–ª–µ¬ª.

---

## 7. **–§–∏–∫—Å–∞—Ü–∏—è —Ç–∏–ø–æ–≤ –∏ –æ–≥—Ä–∞–Ω–∏—á–µ–Ω–∏–π**

- –ò—Å–ø–æ–ª—å–∑–æ–≤–∞—Ç—å `enum`, `format: date-time`, `minimum/maximum` –≤ JSON Schema.
- –ß–µ–º –±–æ–ª—å—à–µ –æ–≥—Ä–∞–Ω–∏—á–µ–Ω–∏–π ‚Üí —Ç–µ–º –º–µ–Ω—å—à–µ —Å–≤–æ–±–æ–¥—ã —É –º–æ–¥–µ–ª–∏ ‚Üí –≤—ã—à–µ –≤–∞–ª–∏–¥–Ω–æ—Å—Ç—å.

---

## 8. **Self-verification**

- –ü—Ä–æ—Å–∏—Ç—å –º–æ–¥–µ–ª—å —Å–∞–º–æ–π –ø—Ä–æ–≤–µ—Ä–∏—Ç—å —Å–≤–æ–π JSON –ø–µ—Ä–µ–¥ –æ—Ç–ø—Ä–∞–≤–∫–æ–π:
    `–°–Ω–∞—á–∞–ª–∞ —Å–≥–µ–Ω–µ—Ä–∏—Ä—É–π JSON. –ó–∞—Ç–µ–º –ø—Ä–æ–≤–µ—Ä—å: –æ–Ω —Å–æ–æ—Ç–≤–µ—Ç—Å—Ç–≤—É–µ—Ç —Å—Ö–µ–º–µ?   –ï—Å–ª–∏ –Ω–µ—Ç ‚Äî –∏—Å–ø—Ä–∞–≤—å. –û—Ç–ø—Ä–∞–≤—å —Ç–æ–ª—å–∫–æ —Ñ–∏–Ω–∞–ª—å–Ω—É—é –≤–µ—Ä—Å–∏—é.`

---

## 9. **–ú–Ω–æ–≥–æ—à–∞–≥–æ–≤—ã–µ –ø–∞–π–ø–ª–∞–π–Ω—ã**

–ò–Ω–æ–≥–¥–∞ –Ω–∞–¥—ë–∂–Ω–µ–µ —Ä–∞–∑–¥–µ–ª–∏—Ç—å –ø—Ä–æ—Ü–µ—Å—Å:
1. –ú–æ–¥–µ–ª—å –ø–∏—à–µ—Ç —Ç–µ–∫—Å—Ç (—Å–≤–æ–±–æ–¥–Ω—ã–π).
2. –î—Ä—É–≥–∞—è –º–æ–¥–µ–ª—å –∏–ª–∏ —Ç–∞ –∂–µ –≤ –Ω–æ–≤–æ–º –∑–∞–ø—Ä–æ—Å–µ –ø—Ä–µ–≤—Ä–∞—â–∞–µ—Ç —Ç–µ–∫—Å—Ç –≤ structured output.
3. –í–∞–ª–∏–¥–∞—Ü–∏—è.  
    –≠—Ç–æ –æ—Å–æ–±–µ–Ω–Ω–æ —Ä–∞–±–æ—Ç–∞–µ—Ç –¥–ª—è –∏–∑–≤–ª–µ—á–µ–Ω–∏—è –∏–Ω—Ñ–æ—Ä–º–∞—Ü–∏–∏ –∏–∑ ¬´–≥—Ä—è–∑–Ω—ã—Ö¬ª –∏—Å—Ç–æ—á–Ω–∏–∫–æ–≤.

---

üîß –í —Ä–µ–∞–ª—å–Ω—ã—Ö –ø—Ä–æ–µ–∫—Ç–∞—Ö —á–∞—Å—Ç–æ –∫–æ–º–±–∏–Ω–∏—Ä—É—é—Ç:  
**Schema + Few-shot + Post-processing** ‚Üí —ç—Ç–æ –¥–∞—ë—Ç –ø–æ—á—Ç–∏ 100% –≤–∞–ª–∏–¥–Ω–æ—Å—Ç–∏.