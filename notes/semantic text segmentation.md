---
aliases:
  - topic segmentation
  - TextTiling
  - semantic similarity-based chunking
  - adaptive chunking
tags:
  - evergrow/sprout
---
# Алгоритм
1. **Предварительное разбиение на мелкие единицы**
    - Берём текст и делим его на маленькие куски (например, по 20–30 слов или предложений).
    - Это нужно, чтобы алгоритм мог «почувствовать» локальные изменения темы.
2. **Векторизация**
    - Каждый кусок кодируется вектором (например, с помощью Sentence-BERT, E5, GTE и др.).
3. **Подсчёт семантической близости соседних кусков**
    - Для каждой пары соседних фрагментов вычисляется **косинусная близость**.
    - Получаем кривую «схожесть по мере продвижения по тексту».
4. **Поиск падений (ям) в кривой**
    - Там, где косинусная близость резко падает → вероятная смена темы.
    - Такие точки и становятся **границами чанков**.
5. **Формирование чанков**
    - Объединяем мелкие куски между найденными границами.
    - Итог: чанки переменной длины, но **семантически цельные**.
# Плюсы 
- Чанки не обрезаются посреди мысли.
- Можно хранить семантически связные куски разного размера.
- Лучше работает для длинных текстов (книг, статей, лекций).

# Минусы
- Более затратный по вычислениям (надо считать векторы и близости).
- Порог чувствительности (где ставить границу) надо настраивать под задачу.