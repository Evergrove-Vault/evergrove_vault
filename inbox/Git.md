---
tags:
  - Технология
  - Инструмент
  - ПромСтандарт
  - CLI
aliases:
  - git
  - Git
  - vcs
  - VCS
---
# Информация о технологии
## Область применения

Используется для:
- контроля версий исходного кода (VCS)
- синхронизации разработки несколькими людьми 
- организации и хранения параметров автоматических процессов работы с кодом ([[DEVOps MOC|DevOps]])
- поддержания конфигурации инфраструктуры в кластерах ([[GitOps MOC|GitOps]])
- версионирование документации 
- версионирования наборов данных ([[DVC]])
### Аналоги, схожие продукты

- Mercurial
- Subversion
- CVS
## Описание возможностей

Основной фишкой работы с git является возможность создавать commit - снимков конкретных состояний данных с которыми вы работаете. В сочетание с возможностью создавать ветки (отдельные последовательности commit) git становится удобным инструментом для ведения распределенной работы над проектами.

Кроме того присутствует большое количество возможностей для работы с коммитами, ветками, временным сохранением части информации, документированием изменений, отслеживанием изменений и их авторов,  работе с локальными и удаленными репозиториями данных и кода.
## Материалы
 
 [Официальная документация](https://www.git-scm.com/doc)
 
>[!seealso]
>#cтатьи
>- [Разные подходы к ветвлению](https://proglib.io/p/git-workflow)
>- [GitFlow](https://habr.com/ru/articles/106912/)
>- [TrunkBased](https://habr.com/ru/articles/519314/)
>- [Полезные команды](https://habr.com/ru/companies/ruvds/articles/599929/)
>---
>#курсы
> - [Тренажер с визуализацией дерева коммитов для объяснения базовых механик](https://learngitbranching.js.org/?locale=ru_RU)
>---
>#видео
>- [Курс с подробным разбором технологии](https://www.youtube.com/playlist?list=PLDyvV36pndZFHXjXuwA_NywNrVQO0aQqb)
>

# Настройка  

Обычно хватает простой установки CLI инструмента, но лучше использовать git вместе с удобным GUI, так как тот, который идет в комплекте достаточно старый и не совсем функциональный.

>[!tip] Варианты GUI
>- Gitkraken
>- Sourcetree
>- SmartGit
>- Встроенный интерфейс в IDE платформы JetBrains, VSCode

Но в случае каких-то более сложных задач лучшим решением становится использование CLI напрямую, так как в графических инструментах часто визуализированы только основные возможности и команды.
## Как установить

[Выбираем нужную вам операционку](https://www.git-scm.com/downloads)
### Как установить

Для windows достаточно просто исполнить установочный файл. Следуйте инструкции при установки. Добавьте папку с git в переменную path, чтобы потом можно было работать из консоли. 
# Рекомендации по работе

>[!note] Основные понятия
>- **repository** - папка, в которой лежит ваш код или другие данные за состоянием которых вы хотите следить. При инициализации репозитория git начинает отслеживать изменения в данной папке и во всех ее подпапках. 
>- **commit**  - моментальный снимок состояния ваших данных. Позволяет создать точку, к состоянию которой мы можем возвращаться в будущем, относительно которой можно смотреть изменения с текущим состоянием репозитория и которой можно поделиться с другими разработчиками. Про то, как создается коммит смотрите ниже
>- **branch** - Набор последовательных коммитов, которые образуют последовательность изменений. Используется в ветвлении данных в репозитории, что помогает сохранить согласованность кода при работе нескольких человек над проектом или при одновременной разработке нескольких функциональностей изолировать их друг от друга 
>- **remote** - git является локальным инструментом VCS. Для удобной работы нескольких людей над проектом нужно использовать такие сервисы, как github, gitlab, bitbucket. Они хранят код и предоставляют единую точку доступа к нему. remote - это ссылка на такой удаленный репозиторий из которого вы можете подтягивать обновления, сделанные другими участниками или заливать свой
>- **push**  - для того чтобы ваш код попал в удаленный репозиторий вам необходимо выполнить его отправку с помощью команды push 
>- **clone** - для работы с удаленным remote репозиторием необходимо его склонировать
>- **pull** - необходимо подтягивать все изменения, сделанные в вашей ветке другими пользователями перед коммитом нового кода. Это позволяет решить конфликты, возникающие при правки одного и того же куска кода несколькими людьми
>- **gitignore** - файл, который можно добавить в репозиторий, чтобы не отслеживать изменения указанных в нем файлов. Это позволяет избавиться от файлов сборки в коде, защитить ваши ключи и аутентификационные токены. За основу можно взять файлы gitignore из [этого репозитория]() и доработать под свой проект 

## Базовый вариант работы с репозиторием
Если вы создаете новый репозиторий локально:
```bash 
cd project_folder/
git init # для инициализации папки с проектом
# создайте файл предположим text.txt
git checkout -b branch_name # создадим новую ветку и перейдем в нее
echo hello > test.txt
git add test.txt # нужно добавить файл под версионный контроль (при создании нового файла)
git status # для просмотра всех измененных файлов
git add test.txt #для добавления изменений файла в stage 
git commit -m 'text' # после того, как убедились, что можно сохранить результат работы создаем commit
git push # для отправки изменений в удаленнй репозиторий, если он подключен
git log # для просмотра сохранненнх коммитов 
 ```

Для клонирования репозитория замените 

```bash
git init 
# на 
git clone repo_uri
```

Вы можете настроить подключение как по https, так и по [ssh](https://docs.github.com/en/authentication/connecting-to-github-with-ssh) 

Про то, каким образом лучше вести ваш репозиторий с коммитами стоит почитать в [[Git#Материалы|материалах]].

Более продвинутые возможности и команды git можно посмотреть [[git полезные функции и возможности|тут]]
## Рекомендации по наименованию и частоте коммитов

Для улучшения качества коммитов и возможности безболезненного отката кода предлагаю следовать следующим правилам:
1) Коммиты должны быть достаточно частыми и по возможности содержать работоспособные версии кода (в случае необходимости временно переместиться на другую ветку используйте stash как способ сохранения вашего текущего состояния)
2) Не добавляйте в один  коммит более одной функциональности за раз (в противном случае если вам придется откатывать свои изменения, то может возникнуть необходимость делать дополнительный коммит)
3) Название коммита должно в полной мере описывать изменения, которые в нем добавлены (читать код вы будете чаще, чем писать, так что через пол года можно спокойно забыть что вы делали)
4) Если вы удаляете ветки после слияния, то впишите название ветки в начало коммита, так вам будет легче потом определить что именно вы делали. 
5) Делайте приписки типа коммита (fix, feature, doc ...) 
6) Если используете таск трекеры (Jira, Youtrack, trello ...) то добавляйте в коммит идентификатор таски, так вы сможете вернуться к описанию задачи и возможно найти доп инфу по проделанной работе
7) Если в ходе разработки в коде были использованы нестандартные решения, то стоит отобразить причины их появления в коммите
8) Обязательно настройте почту и имя вашего пользователя, которые проставляются для каждого коммита - это правило хорошего тона и позволяет  потом обратиться к создателю кода за разъяснением его работы

## Используйте возможности github или gitlab по полной

Данные сервисы позволяют значительно упростить работу с вашими коммитами, а так же повысить безопасность изменений кода при помощи механизмов collaborator и protect branches.

Не поленитесь выдать прямой доступ на изменения только тем людям, кому доверяете, для всех остальных используйте механизм Fork в сочетание с Pull Request.

Обязательно защитите основную ветку (main или master) от прямого изменения (только через механизм реквестов и ревью кода).

Для удобства коллективной работы над кодом проекта используйте механизм pull request в сочетании с code review

README.md в сочетание с файлом лицензии даст дополнительную информацию новым пользователям о том, как запустить ваше решение и при каких условиях разрешено использование данного ПО.

В дальнейшем можно настроить CI/CD процессы, которые значительно повысят скорость разработки и качество кода за счет автоматической сборки и прогонки тестов в автоматическом режиме

Более подробно про возможности инструментов по совместной работе можно почитать [[git инструменты совместной работы|тут]]